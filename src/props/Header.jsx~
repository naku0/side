import "../stylings/header.css";
import {createRef, useEffect, useState} from "react";
import logo from "../pics/eventside logo white.svg";

const header = document.querySelector(".header");

export const Header = () => {
    const [menu, setMenu] = useState(false);
    const logoRef = createRef();
    const headerRef = createRef();

    const showMenu = () => {
        setMenu(!showMenu);
    }


    const goTo = (id, position) => {
        return () => {
            const element = document.querySelector(`#${id}`);
            element.scrollIntoView({
                behavior: "smooth",
                block: position,
            });
        };
    }

    useEffect(() => {
        const handleScroll = () => {
            if (window.scrollY > 200) {
                logoRef.current.classList.add("scroll");
                headerRef.current.classList.add("scroll");
            } else {
                logoRef.current.classList.remove("scroll");
                headerRef.current.classList.remove("scroll");
            }
        }
        window.addEventListener("scroll", handleScroll);
        return () => {
            window.removeEventListener("scroll", handleScroll);
        }
    }, []);


//TODO menu!!!
    return (
        <header>
            <ul className="header" ref={headerRef}>
                <li className="header__logo">
                    <button onClick={goTo("start", "start")}>
                        <img src={logo} alt="event-side-logo" className="logo__white" id="logo" ref={logoRef}/>
                    </button>
                </li>
                <li className="header__menu">
                    <button className="material-symbols-outlined" onClick={showMenu}>
                        menu
                    </button>
                </li>
            </ul>
        </header>
    )
}